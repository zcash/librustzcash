<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The Partially Created Zcash Transaction (PCZT) format."><title>pczt - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="pczt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (a224f3807 2024-12-09)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../pczt/index.html">pczt</a><span class="version">0.0.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>pczt</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/pczt/lib.rs.html#1-123">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The Partially Created Zcash Transaction (PCZT) format.</p>
<p>Goal is to split up the parts of creating a transaction across distinct entities.
The entity roles roughly match BIP 174: Partially Signed Bitcoin Transaction Format.</p>
<ul>
<li>Creator (single entity)
<ul>
<li>Creates the base PCZT with no information about spends or outputs.</li>
</ul>
</li>
<li>Constructor (anyone can contribute)
<ul>
<li>Adds spends and outputs to the PCZT.</li>
<li>Before any input or output may be added, the constructor must check the
<code>Global.tx_modifiable</code> field. Inputs may only be added if the Inputs Modifiable
flag is True. Outputs may only be added if the Outputs Modifiable flag is True.</li>
<li>A single entity is likely to be both a Creator and Constructor.</li>
</ul>
</li>
<li>IO Finalizer (anyone can execute)
<ul>
<li>Sets the appropriate bits in <code>Global.tx_modifiable</code> to 0.</li>
<li>Updates the various bsk values using the rcv information from spends and outputs.</li>
</ul>
</li>
<li>Updater (anyone can contribute)
<ul>
<li>Adds information necessary for subsequent entities to proceed, such as key paths
for signing spends.</li>
</ul>
</li>
<li>Prover (capability holders can contribute)
<ul>
<li>Needs all private information for a single spend or output.</li>
<li>In practice, the Updater that adds a given spend or output will either act as
the Prover themselves, or add the necessary data, offload to the Prover, and
then receive back the PCZT with private data stripped and proof added.</li>
</ul>
</li>
<li>Signer (capability holders can contribute)
<ul>
<li>Needs the spend authorization randomizers to create signatures.</li>
<li>Needs sufficient information to verify that the proof is over the correct data,
without needing to verify the proof itself.</li>
<li>A Signer should only need to implement:
<ul>
<li>Pedersen commitments using Jubjub / Pallas arithmetic (for note and value
commitments)</li>
<li>BLAKE2b and BLAKE2s (and the various PRFs / CRHs they are used in)</li>
<li>Nullifier check (using Jubjub / Pallas arithmetic)</li>
<li>KDF plus note decryption (AEAD_CHACHA20_POLY1305)</li>
<li>SignatureHash algorithm</li>
<li>Signatures (RedJubjub / RedPallas)</li>
<li>A source of randomness.</li>
</ul>
</li>
</ul>
</li>
<li>Combiner (anyone can execute)
<ul>
<li>Combines several PCZTs that represent the same transaction into a single PCZT.</li>
</ul>
</li>
<li>Spend Finalizer (anyone can execute)
<ul>
<li>Combines partial transparent signatures into <code>script_sig</code>s.</li>
</ul>
</li>
<li>Transaction Extractor (anyone can execute)
<ul>
<li>Creates bindingSig and extracts the final transaction.</li>
</ul>
</li>
</ul>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="common/index.html" title="mod pczt::common">common</a></div></li><li><div class="item-name"><a class="mod" href="orchard/index.html" title="mod pczt::orchard">orchard</a></div></li><li><div class="item-name"><a class="mod" href="roles/index.html" title="mod pczt::roles">roles</a></div></li><li><div class="item-name"><a class="mod" href="sapling/index.html" title="mod pczt::sapling">sapling</a></div></li><li><div class="item-name"><a class="mod" href="transparent/index.html" title="mod pczt::transparent">transparent</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Pczt.html" title="struct pczt::Pczt">Pczt</a></div><div class="desc docblock-short">A partially-created Zcash transaction.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ParseError.html" title="enum pczt::ParseError">Parse<wbr>Error</a></div><div class="desc docblock-short">Errors that can occur while parsing a PCZT.</div></li></ul></section></div></main></body></html>